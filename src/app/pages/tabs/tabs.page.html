<ion-content class="tabs-page" [ngClass]="platformClasses">
  <!-- Menu Button - shown on all platforms when sidebar is closed -->
  <ion-button 
    *ngIf="!isSidebarOpen" 
    class="mobile-menu-button" 
    fill="clear" 
    (click)="toggleSidebar()"
    color="dark">
    <ion-icon name="menu-outline"></ion-icon>
  </ion-button>

  <!-- Sidebar Overlay for Mobile and Tablet -->
  <div 
    *ngIf="!isDesktop && isSidebarOpen" 
    class="sidebar-overlay" 
    (click)="closeSidebar()">
  </div>

  <!-- Swipe Area for Mobile (left edge) -->
  <div 
    *ngIf="isMobile" 
    class="swipe-area"
    (swipe)="handleSwipe($event)">
  </div>

  <!-- Sidebar -->
  <aside class="sidebar" 
         [ngClass]="platformClasses"
         (swipe)="handleSidebarSwipe($event)">

    <!-- Sidebar Header -->
    <div class="sidebar-header">
      <div class="logo">
        <ion-icon name="business-outline"></ion-icon>
        <span *ngIf="isDesktop || isTablet" class="logo-text">RentPro</span>
      </div>
      
      <!-- Close button for all platforms -->
      <ion-button 
        class="close-button" 
        fill="clear" 
        (click)="closeSidebar()"
        color="dark">
        <ion-icon name="close-outline"></ion-icon>
      </ion-button>
    </div>

    <!-- Navigation Items -->
    <nav class="sidebar-nav">
      <div class="nav-item" 
           *ngFor="let item of sidebarItems" 
           [class.active]="isActive(item.path)"
           (click)="selectItem(item.path)">
        <ion-icon [name]="item.icon"></ion-icon>
        <span class="nav-label">{{ item.label }}</span>
        
        <ion-badge 
          *ngIf="item.badge && item.badge > 0" 
          color="danger" 
          class="nav-badge">
          {{ item.badge }}
        </ion-badge>
      </div>
    </nav>

    <!-- Sidebar Footer -->
    <div class="sidebar-footer" *ngIf="isDesktop || (isTablet && isSidebarOpen)">
      <div class="footer-item" (click)="navigateToSettings()">
        <ion-icon name="settings-outline"></ion-icon>
        <span class="nav-label">Settings</span>
      </div>
    </div>
  </aside>

  <!-- Main Content Area -->
  <main class="main-content" [ngClass]="platformClasses" (click)="closeSidebar()">
    <ion-router-outlet></ion-router-outlet>
  </main>
</ion-content>
